<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Philippines Viral Pulse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <div id="app" class="min-h-screen">
        <header class="bg-white/80 backdrop-blur-md shadow-sm fixed top-0 left-0 right-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-gray-800 cursor-pointer" id="go-home">ðŸ‡µðŸ‡­ The Philippines Viral Pulse</h1>
                    </div>
                    <nav id="main-nav" class="flex items-center space-x-4">
                        <button type="button" data-target="politics" class="text-gray-600 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors">Political Arena</button>
                        <button type="button" data-target="social" class="text-gray-600 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors">Society's Mirror</button>
                        <button type="button" data-target="culture" class="text-gray-600 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors">Pop Culture Wave</button>
                    </nav>
                </div>
            </div>
        </header>
        <!-- pt-[5.5rem] ensures no overlap; adjust as needed for your header height -->
        <main class="pt-[5.5rem]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-16">
                <!-- (all your sections here, unchanged) -->
                <!-- ... -->
                <!-- The below content is unchanged from your last provided file -->
                <section id="politics" class="scroll-mt-20">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">The Political Arena</h2>
                        <p class="mt-4 text-lg leading-8 text-gray-600 max-w-2xl mx-auto">This section delves into the key political conflicts and foreign policy issues that have captured public attention and dominated national conversations, reflecting the nation's pressing governance and sovereignty concerns.</p>
                    </div>
                    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                            <div>
                                <h3 id="political-topic-title" class="text-2xl font-semibold text-gray-800 mb-4">Public Sentiment: Marcos-Duterte Rift</h3>
                                <div class="space-y-4 text-gray-700">
                                    <p>The political alliance between President Ferdinand Marcos Jr. and Vice President Sara Duterte has fractured, leading to public disagreements and shifting loyalties. This rift influences policy debates, future election landscapes, and public discourse on governance and stability.</p>
                                    <p>Tensions in the West Philippine Sea have also remained a flashpoint, with diplomatic protests and civilian-led supply missions becoming viral topics. Public sentiment is a crucial factor shaping the government's foreign policy and national security strategies.</p>
                                </div>
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <button type="button" id="btn-rift" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-transform transform hover:scale-105">Marcos-Duterte Rift</button>
                                    <button type="button" id="btn-wps" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm font-semibold shadow hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 transition-transform transform hover:scale-105">West Philippine Sea</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="sentimentChart" height="350"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="social" class="scroll-mt-20">
                    <!-- ... (your social section as is) -->
                </section>
                <section id="culture" class="scroll-mt-20">
                    <!-- ... (your culture section as is) -->
                </section>
            </div>
        </main>
        <footer class="mt-16 bg-gray-100">
            <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-500 text-sm">
                <p>&copy; 2025 The Philippines Viral Pulse. An interactive summary of trending national topics.</p>
            </div>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sentimentData = {
                rift: {
                    title: 'Public Sentiment: Marcos-Duterte Rift',
                    labels: ['Concern over Stability', 'Political Fatigue', 'Support for Marcos', 'Support for Duterte', 'Disappointment'],
                    data: [45, 25, 15, 10, 5],
                },
                wps: {
                    title: 'Public Sentiment: West Philippine Sea',
                    labels: ['National Pride', 'Anxiety over Conflict', 'Demand for Action', 'Diplomatic Concern', 'Frustration'],
                    data: [50, 20, 15, 10, 5],
                }
            };

            let sentimentChart = null;
            const politicalTopicTitle = document.getElementById('political-topic-title');
            const btnRift = document.getElementById('btn-rift');
            const btnWps = document.getElementById('btn-wps');

            const createOrUpdateChart = (topic) => {
                const topicData = sentimentData[topic];

                if (sentimentChart) {
                    sentimentChart.data.labels = topicData.labels;
                    sentimentChart.data.datasets[0].data = topicData.data;
                    sentimentChart.update();
                } else {
                    const ctx = document.getElementById('sentimentChart').getContext('2d');
                    sentimentChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: topicData.labels,
                            datasets: [{
                                label: 'Public Sentiment (%)',
                                data: topicData.data,
                                backgroundColor: [
                                    'rgba(59, 130, 246, 0.7)',
                                    'rgba(251, 146, 60, 0.7)',
                                    'rgba(239, 68, 68, 0.7)',
                                    'rgba(16, 185, 129, 0.7)',
                                    'rgba(139, 92, 246, 0.7)',
                                ],
                                borderColor: [
                                    'rgba(59, 130, 246, 1)',
                                    'rgba(251, 146, 60, 1)',
                                    'rgba(239, 68, 68, 1)',
                                    'rgba(16, 185, 129, 1)',
                                    'rgba(139, 92, 246, 1)',
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                },
                                title: {
                                    display: false
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return `${context.label}: ${context.raw}%`;
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    max: 100,
                                    title: {
                                        display: true,
                                        text: 'Percentage of Online Discussion'
                                    }
                                },
                                y: {
                                    ticks: {
                                        autoSkip: false,
                                        callback: function(value) {
                                            const label = this.getLabelForValue(value);
                                            if (label.length > 20) {
                                                return label.substring(0, 20) + '...';
                                            }
                                            return label;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }
            };

            const updateUI = (topic) => {
                const topicData = sentimentData[topic];
                politicalTopicTitle.textContent = topicData.title;
                createOrUpdateChart(topic);

                if (topic === 'rift') {
                    btnRift.classList.remove('bg-gray-200', 'text-gray-800');
                    btnRift.classList.add('bg-blue-600', 'text-white');
                    btnWps.classList.remove('bg-blue-600', 'text-white');
                    btnWps.classList.add('bg-gray-200', 'text-gray-800');
                } else {
                    btnWps.classList.remove('bg-gray-200', 'text-gray-800');
                    btnWps.classList.add('bg-blue-600', 'text-white');
                    btnRift.classList.remove('bg-blue-600', 'text-white');
                    btnRift.classList.add('bg-gray-200', 'text-gray-800');
                }
            };

            btnRift.addEventListener('click', () => updateUI('rift'));
            btnWps.addEventListener('click', () => updateUI('wps'));

            updateUI('rift');

            const nav = document.getElementById('main-nav');
            nav.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const targetId = e.target.dataset.target;
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });

            // Optional: clicking the header scrolls to top
            document.getElementById('go-home').addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
